<!DOCTYPE html>
<html lang="ko">
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1" />
    <meta name="description" content="Open RTB SSP" />
    <meta name="keywords" content="Open RTB SSP" />
    <meta name="author" content="인라이플" />
    <link rel="shortcut icon" href="../../img/favicon/favicon.ico" type="image/ico">
    <title>남양유업 ABM Platform</title>
    <!-- 기본 CSS, JS -->
    <link type="text/css" href="../../css/base.css" rel="stylesheet" />
    <script type="text/javascript" src="../../js/jquery-2.2.2.min.js"></script>
    <!-- //기본 CSS, JS -->
    <!-- CMP CSS, JS -->
    <link rel="shortcut icon" href="/images/ibot_favicon.ico">
    <link rel="stylesheet" href="../../css/cmp/fonts.css">
    <!-- <link rel="stylesheet" href="../../css/cmp/defalut.css"> -->
    <link rel="stylesheet" href="../../css/cmp/layout.css">
    <link rel="stylesheet" href="../../css/cmp/header.css">
    <link rel="stylesheet" href="../../css/cmp/footer.css">
    <link rel="stylesheet" href="../../css/cmp/sub.css">
    <link rel="stylesheet" href="/fonts/icons/css/_icons.css">
    <link rel="stylesheet" href="../../css/cmp/common.css">
    <link rel="stylesheet" href="../../css/cmp/dev.css">
    <script type="text/javascript" async="" src="https://www.googleadservices.com/pagead/conversion_async.js"></script>
    <script src="../../js/cmp/jquery-3.5.1.min.js"></script>
    <script src="../../js/cmp/jquery-ui-1.12.1.min.js"></script>
    <script src="../../js/cmp/jquery.custom.extend.js"></script>
    <script src="../../js/cmp/common.js"></script>
    <script src="../../js/cmp/header.js"></script>
    <script src="../../js/cmp/front.js"></script>
    <!-- Naver Script Start-->
    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
    <!-- Naver Script end -->
    <!-- Global site tag (gtag.js) - Google Ads: 10834531984 -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=AW-10834531984"></script>
    <!-- //CMP CSS, JS -->
    <link type="text/css" href="../../css/base.css" rel="stylesheet" />
    <link type="text/css" href="../../css/common.css" rel="stylesheet" />
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'AW-10834531984');
    </script>
    <script>
        // 도메인 변경 관련 임시 조치
        if (location.href.indexOf("viser.ibot.camp") > -1) {
            location.replace(location.href.replace("viser.ibot.camp", "ivisor.ibot.camp"));
        }

        function goMain() {
            location.href = "/dashboard/dashboard.do";
        }

        function goFamilySite(_type) {
            if (_type == "mobtune") {
                //1. 모비온에서  제공하는 토큰 발급 api 를 이용하여 토큰값 발급.
                //2. {모비튠ur}/tokenLogin?tokenId={토큰키값}&backUrl={로그인실패시돌아갈url 없으면 mobon.net}
                //(필수입력값 : {모비튠url} = host 세팅에 추가한 url,  {토큰키값} = api 로 발급받은 토큰값)
                //tunestage3.mobon.net/tokenLogin?tokenId={토큰키값}&backUrl={로그인실패시돌아갈url 없으면 mobon.net}
                //window.open("https://tune.mobon.net/crm/userCampaign/add");
                $.ajax({
                    url: "/account/mobtuneLogin.json",
                    type: "POST",
                    dataType: "json",
                    success: function (data) {
                        if (data.rsCode.indexOf("S") > -1) {
                            var url = "";
                            switch (_type) {
                                case "mobtune":
                                    if (data.token == "undefined" || data.token == undefined) {
                                        url = "https://tune.mobon.net";
                                    } else {
                                        url = "https://tune.mobon.net/tokenLogin?tokenId=" + data.token +
                                            "&move_url=/crm/userCampaign";
                                    }
                                    window.open(url);
                                    //location.href = url;
                                    break;
                            }
                        } else {
                            alert(data.rsMsg);
                        }
                    },
                    error: function (error) {
                        console.log(error);
                    }
                });
            } else {
                $.ajax({
                    url: "/account/getEncData.json",
                    type: "POST",
                    dataType: "json",
                    success: function (data) {
                        if (data.rsCode.indexOf("S") > -1) {
                            var url = "";
                            switch (_type) {
                                case "gate":
                                    url = "https://ibot.camp/api/bridge?encData=" + data.enc +
                                        "&redirectUrl=";
                                    location.href = url;
                                    break;
                                case "gate-my":
                                    url = "https://ibot.camp/api/bridge?encData=" + data.enc +
                                        "&redirectUrl=" + encodeURIComponent("/mypage/mypageUsermanage");
                                    location.href = url;
                                    break;
                                case "gate-sync":
                                    url = "https://ibot.camp/api/bridge?encData=" + data.enc +
                                        "&redirectUrl=" + encodeURIComponent(
                                        "/mypage/mypageServiceconnect");
                                    location.href = url;
                                    break;
                                case "ibot":
                                    url = "https://admin.istore.camp//view/bridge.html?encData=" + data.enc;
                                    location.href = url;
                                    break;
                                case "istore":
                                    url = "https://www.istore.camp/login/bridge?enc_data=" + data.enc;
                                    //location.href = url;
                                    window.open(url);
                                    break;
                                case "iapps":
                                    //url = "https://iapps.ibot.campaccount/bridge?enc_data=" + data.enc;
                                    url = "https://iapps.ibot.camp/api/bridge?encData=" + data.enc +
                                        "&redirectUrl=";
                                    location.href = url;
                                    break;
                                case "brand":
                                    url = "https://brand.istore.camp/api/bridge?encData=" + data.enc +
                                        "&redirectUrl=";
                                    location.href = url;
                                    break;
                            }
                        } else {
                            alert(data.rsMsg);
                        }
                    },
                    error: function (error) {
                        console.log(error);
                    }
                });
            }
        }
    </script>
    <script src="/js/moment-2.29.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/dateRangePicker_mobon.css">
    <script src="/js/dateRangePicker_mobon.js"></script>
    <script
        src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/10834531984/?random=1642406169200&amp;cv=9&amp;fst=1642406169200&amp;num=1&amp;bg=ffffff&amp;guid=ON&amp;resp=GooglemKTybQhCsO&amp;u_h=1080&amp;u_w=1920&amp;u_ah=1040&amp;u_aw=1920&amp;u_cd=24&amp;u_his=22&amp;u_tz=540&amp;u_java=false&amp;u_nplug=5&amp;u_nmime=2&amp;gtm=2oa1c0&amp;sendb=1&amp;ig=1&amp;data=event%3Dgtag.config&amp;frm=0&amp;url=https%3A%2F%2Fivisor.ibot.camp%2Freg%2Fcampaign_list.do&amp;ref=https%3A%2F%2Fivisor.ibot.camp%2Freg%2Freg.do&amp;tiba=%EC%95%84%EC%9D%B4%EC%84%BC%EB%93%9C&amp;hn=www.googleadservices.com&amp;async=1&amp;rfmt=3&amp;fmt=4">
    </script>
</head>

<body data-new-gr-c-s-check-loaded="14.1044.0" data-gr-ext-installed="">
    <div class="container_wrapper">
        <header class="header">
            <h1><a href="javascript:void(0);">ABM남양</a></h1>
            <div class="userinfo">
                <div class="moveSite">
                    <p>브랜드 이동</p><select name="" id="">
                        <option value="">남양몰</option>
                    </select>
                </div>
                <div class="name"><i class="master">마스터</i><strong>namyangi_gdhong</strong>님</div>
                <div class="logout"><button type="button" class="logout"></button></div>
            </div>
        </header>
        <nav class="navigation">
            <h2>메뉴</h2>
            <div class="authTitle">
                <h4>Dashboard</h4>
                <div class="hamburger">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
            <ul>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_tracking"></i><span>트래킹 센터</span></a>
                    <ul>
                        <li><a href="javascript:void(0);">Dashboard</a></li>
                        <li><a href="javascript:void(0);">통합 트래킹</a></li>
                        <li><a href="javascript:void(0);">APP 유지율 분석</a></li>
                        <li><a href="javascript:void(0);">광고 추적 URL</a></li>
                        <li><a href="javascript:void(0);">광고 추적 리포트</a></li>
                        <li><a href="javascript:void(0);">랜딩 도메인 생성</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_cdp"></i><span>CDP</span></a>
                    <ul>
                        <li><a href="javascript:void(0);">Dashboard</a></li>
                        <li><a href="javascript:void(0);">고객 로그</a></li>
                        <li><a href="javascript:void(0);">고객 분석</a></li>
                        <li><a href="javascript:void(0);">캠페인 관리</a></li>
                    </ul>
                </li>
                <li class="active">
                    <a href="javascript:void(0);"><i class="ico_nav_cmp"></i><span>CMP</span></a>
                    <ul class="active">
                        <li class="on"><a href="javascript:void(0);">Dashboard</a></li>
                        <li><a href="javascript:void(0);">캠페인 등록</a></li>
                        <li><a href="javascript:void(0);">캠페인 관리</a></li>
                        <li><a href="javascript:void(0);">템플릿 등록</a></li>
                        <li><a href="javascript:void(0);">템플릿 등록</a></li>
                        <li><a href="javascript:void(0);">리포트</a>
                            <ul class="active">
                                <li class="on"><a href="javascript:void(0);">개요</a></li>
                                <li><a href="javascript:void(0);">일자별 리포트</a></li>
                                <li><a href="javascript:void(0);">캠페인별 리포트</a></li>
                                <li><a href="javascript:void(0);">시간대별 리포트</a></li>
                                <li><a href="javascript:void(0);">요일별 리포트</a></li>
                                <li><a href="javascript:void(0);">발송수단별 리포트</a></li>
                                <li><a href="javascript:void(0);">발송 리포트</a></li>
                            </ul>
                        </li>
                        <li><a href="javascript:void(0);">주소록</a></li>
                        <li><a href="javascript:void(0);">발신정보 관리</a></li>
                        <li><a href="javascript:void(0);">충전</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_amp"></i><span>AMP</span></a>
                    <ul>
                        <li><a href="javascript:void(0);">캠페인 생성</a></li>
                        <li><a href="javascript:void(0);">캠페인 리스트</a></li>
                    </ul>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_dmp"></i><span>DMP</span></a>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_data"></i><span>데이터 연동 센터</span></a>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_system"></i><span>시스템 로그</span></a>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="ico_nav_setting"></i><span>설정</span></a>
                    <ul>
                        <li><a href="javascript:void(0);">계정 셋팅</a></li>
                        <li><a href="javascript:void(0);">My Page</a></li>
                        <li><a href="javascript:void(0);">사용자 관리</a></li>
                    </ul>
                </li>
            </ul>
            <script>
                $(function () {
                    $(".userMenu .btns").on("click", function () {
                        var nextEl = $(this).next("ul");
                        $(this).toggleClass("on");
                        nextEl.toggle(300);
                    });
                    $(document).mouseup(function (e) {
                        var userMenu = $(".userMenu");
                        if (!userMenu.is(e.target) && userMenu.has(e.target).length === 0) {
                            $(".userMenu ul").hide(300);
                            $(".userMenu .btns").removeClass("on");
                        }
                    });
                    $(".navigation .hamburger").on("click", function () {
                        $(".navigation").toggleClass("closed");
                        $(".header").toggleClass("wide-view");
                        $(".contents_wrapper").toggleClass("wide-view");
                        if ($(".navigation").hasClass("closed")) {
                            $(".navigation").animate({
                                width: "60px",
                            }, 400);
                        } else {
                            $(".navigation").animate({
                                width: "250px",
                            }, 400);
                        }
                    });
                    $(".navigation ul li:has(ul)").addClass("has-list");
                    $(".navigation > ul > li > a").on("click", function () {
                        var nextEl = $(this).next();
                        $(".navigation > ul > li").removeClass("active");
                        $(this).closest("li").addClass("active");
                        if (nextEl.is("ul") && nextEl.is(":visible")) {
                            $(this).closest("li").removeClass("active");
                            nextEl.slideUp("fast");
                        }
                        if (nextEl.is("ul") && !nextEl.is(":visible")) {
                            $(".navigation > ul > li > ul:visible").slideUp(300);
                            nextEl.slideDown("fast");
                        }
                        if (nextEl.is("ul")) {
                            return false;
                        } else {
                            return true;
                        }
                    });
                });
            </script>
        </nav>
        <section class="contents_wrapper">
            <div class="contents">
                <main class="sub abmNamyang abmNamyang_cmpCampaignList">
                    <div class="side-content">
                        <section class="setting-wrap">
                            <div class="setting-header">
                                <h2 class="setting-header__title">캠페인 리스트</h2>
                                <div class="setting-header__btns">
                                    <button class="btn-main" onclick="location.href='/reg/reg.do'">신규 캠페인 등록</button>
                                </div>
                            </div>
                            <article class="campaign">
                                <div class="mobtune_crm">
                                    <div class="text_box">
                                        <div class="tit">
                                            <p>MOBTUNE CDP 연동</p>
                                        </div>
                                        <div class="text">
                                            <ul>
                                                <li>모비튠 연동 <span class="f_weight">ID : enliple</span></li>
                                                <li>연동 완료</li>
                                            </ul>
                                        </div>
                                        <div class="setting-header__btns">
                                            <button class="btn-green-line">연동 해제</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="temp-list__serch">
                                    <div class="temp-list__serch-group">
                                        <div class="temp-list__serch-text">
                                            <span class="serch-title">상태</span>
                                        </div>
                                        <div class="temp-list__serch-select">
                                            <ul>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="status" id="status_all" value="ALL"
                                                        checked="checked">
                                                    <label for="status_all">전체</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="status" id="status_3"
                                                        value="CAMPAIGN_TEMP_READY">
                                                    <label for="status_3">검수전</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="status" id="status_4"
                                                        value="CAMPAIGN_TEMP_ING">
                                                    <label for="status_4">검수중</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="status" id="status_5"
                                                        value="CAMPAIGN_TEMP_REJ">
                                                    <label for="status_5">검수 반려</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="status" id="status_6"
                                                        value="CAMPAIGN_EXE_READY">
                                                    <label for="status_6">집행전</label>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="temp-list__serch-group">
                                        <div class="temp-list__serch-text">
                                            <span class="serch-title">발송 수단</span>
                                        </div>
                                        <div class="temp-list__serch-select">
                                            <ul>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="sendItem" id="sendItem_all" value="ALL"
                                                        checked="checked">
                                                    <label for="sendItem_all">전체</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="sendItem" id="sendItem_1" value="ATL">
                                                    <label for="sendItem_1">알림톡</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="sendItem" id="sendItem_2" value="FTL">
                                                    <label for="sendItem_2">친구톡</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="sendItem" id="sendItem_3"
                                                        value="SMS,LMS,MMS">
                                                    <label for="sendItem_3">문자</label>
                                                </li>
                                                <li class="serch-title">
                                                    <input type="checkbox" name="sendItem" id="sendItem_4" value="EML">
                                                    <label for="sendItem_4">이메일</label>
                                                </li>
                                            </ul>
                                            <div class="temp-list__serch-group">
                                                <div class="temp-list__serch-text">
                                                    <span class="serch-title">발송 조건</span>
                                                </div>
                                                <div class="temp-list__serch-select" style="float:left;">
                                                    <ul>
                                                        <li class="serch-title">
                                                            <input type="checkbox" name="sendType" id="sendType_all"
                                                                value="ALL" checked="checked">
                                                            <label for="sendType_all">전체</label>
                                                        </li>
                                                        <li class="serch-title">
                                                            <input type="checkbox" name="sendType" id="sendType_1"
                                                                value="N">
                                                            <label for="sendType_1">즉시</label>
                                                        </li>
                                                        <li class="serch-title">
                                                            <input type="checkbox" name="sendType" id="sendType_2"
                                                                value="R">
                                                            <label for="sendType_2">예약</label>
                                                        </li>
                                                        <li class="serch-title">
                                                            <input type="checkbox" name="sendType" id="sendType_3"
                                                                value="E">
                                                            <label for="sendType_3">정기</label>
                                                        </li>
                                                        <li class="serch-title">
                                                            <input type="checkbox" name="sendType" id="sendType_4"
                                                                value="A">
                                                            <label for="sendType_4">자동</label>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="temp-list__serch-group" style="margin-bottom:0px">
                                        <div class="temp-list__serch-text">
                                            <span class="serch-title">기간</span>
                                        </div>
                                        <div class="temp-list__serch-select">
                                            <div class="calendar">
                                                <div class="icon"></div>
                                                <div class="dateChoice">
                                                    <input type="hidden" class="input_text01" id="start_dt"
                                                        value="2022-01-01">
                                                    <input type="hidden" class="input_text01" id="end_dt"
                                                        value="2022-01-17">
                                                    <input type="text" class="input_text01 start_end_date">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="temp-list__create" style="display:flex;">
                                    <div class="temp-list__filter_title">
                                        <span class="serch-title l_height">선택한 필터 (<span
                                                id="filter_count">0</span>)</span>
                                    </div>
                                    <div class="temp-list_filter_select_frame">
                                        <!-- 선택한 필터 영역 -->
                                    </div>
                                    <div class="temp-list__filter_title">
                                        <span class="serch-title l_height item_clear" style="cursor: pointer;"
                                            onclick="javascript:fn_filterClear();">전체해제</span>
                                    </div>
                                </div>
                                <div class="setting-conbox">
                                    <div class="temp-list__create" style="display:flow-root;">
                                        <button class="btn-gray btn_custom" onclick="fn_delete();">삭제</button>
                                        <div class="temp-list__search-content search_bar">
                                            <span class="search_icon"></span>
                                            <input type="text" class="searchbar" id="search_title"
                                                placeholder="캠페인 명, 메모 검색">
                                        </div>
                                    </div>
                                    <div class="list_table b_bottom">
                                        <table id="tb_campaign">
                                            <colgroup>
                                                <col width="3%">
                                                <col width="8%">
                                                <col width="9%">
                                                <col width="4%">
                                                <col width="6%">
                                                <col width="8%">
                                                <col width="8%">
                                                <col width="7%">
                                            </colgroup>
                                            <thead>
                                                <tr>
                                                    <th>
                                                        <input type="checkbox" id="checkAll" class="checkbox">
                                                        <label for="checkAll"></label>
                                                    </th>
                                                    <th>검수 상태</th>
                                                    <th>캠페인명(메모)</th>
                                                    <th>CDP 연동 여부</th>
                                                    <th>발송수단</th>
                                                    <th>발송 조건</th>
                                                    <th>
                                                        <!-- class="icon"> -->최종 수정일</th>
                                                    <th>집행 / 복사</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <input type="checkbox" name="chk" id="chk_0" class="checkbox">
                                                        <label for="chk_0"></label>
                                                    </td>
                                                    <!-- 상태 -->
                                                    <!-- 
            <td>
                <span class="btn-switch">					
                    <input type="radio" id="regStatus_STOP_0" name="chkStatus_0" class="btn-switch__radio btn-switch__radio_on_btn" />
                    <input type="radio" checked id="regStatus_LIVE_0" name="chkStatus_0" class="btn-switch__radio btn-switch__radio_off_btn" />		
                    <label for="regStatus_STOP_0" class="btn-switch__label btn-switch__label_on_btn"><span class="btn-switch__txt">ON</span></label>
                    <label for="regStatus_LIVE_0" class="btn-switch__label btn-switch__label_off_btn"><span class="btn-switch__txt">OFF</span></label>
                </span>
            </td>
             -->
                                                    <!-- 검수 상태 -->
                                                    <td>집행 전</td>
                                                    <!-- 캠페인명(메모) -->
                                                    <td title="ABM_test_220103
ABM_test_220103">
                                                        <a href="/reg/reg.do?rowid=3876" title="ABM_test_220103
ABM_test_220103"> ABM_test_220103 </a>
                                                        <br>
                                                        <a href="/reg/reg.do?rowid=3876" title="ABM_test_220103
ABM_test_220103">
                                                            <span class="text_size">ABM_test_220103</span>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <!-- 
				
					
					
						N
					
				
			-->
                                                    </td>
                                                    <!-- 발송수단 -->
                                                    <td> 문자 </td>
                                                    <!-- 발송시점(발송조건) -->
                                                    <td> 즉시 <br>
                                                    </td>
                                                    <!-- 최종수정일 -->
                                                    <td>2022-01-03 18:58:25</td>
                                                    <!-- 버튼 -->
                                                    <td>
                                                        <button class="btn-main btn_custom" style="display: none;"
                                                            onclick="fn_enforce('3876', '902', 'Y', '0.0', 'N', '2754', 'N', 'N', 'N', 'MMS', '');">집행</button>
                                                        <button class="btn-gray btn_custom"
                                                            onclick="fn_copy('3876', 'ABM_test_220103' , 'ABM_test_220103' , '')">복사</button>
                                                    </td>
                                                    <input type="hidden" id="rowid" name="rowid" value="3876">
                                                    <input type="hidden" id="crmNo" name="crmNo" value="">
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <input type="checkbox" name="chk" id="chk_1" class="checkbox">
                                                        <label for="chk_1"></label>
                                                    </td>
                                                    <!-- 상태 -->
                                                    <!-- 
            <td>
                <span class="btn-switch">					
                    <input type="radio" id="regStatus_STOP_0" name="chkStatus_0" class="btn-switch__radio btn-switch__radio_on_btn" />
                    <input type="radio" checked id="regStatus_LIVE_0" name="chkStatus_0" class="btn-switch__radio btn-switch__radio_off_btn" />		
                    <label for="regStatus_STOP_0" class="btn-switch__label btn-switch__label_on_btn"><span class="btn-switch__txt">ON</span></label>
                    <label for="regStatus_LIVE_0" class="btn-switch__label btn-switch__label_off_btn"><span class="btn-switch__txt">OFF</span></label>
                </span>
            </td>
             -->
                                                    <!-- 검수 상태 -->
                                                    <td>CDP 연계 데이터</td>
                                                    <!-- 캠페인명(메모) -->
                                                    <td title="211228_회원가입
"> 211228_회원가입 <br>
                                                        <span class="text_size"></span>
                                                    </td>
                                                    <td>
                                                        <!-- 
				
					
						Y
					
					
				
			-->
                                                    </td>
                                                    <!-- 발송수단 -->
                                                    <td>
                                                    </td>
                                                    <!-- 발송시점(발송조건) -->
                                                    <td>
                                                        <br>
                                                    </td>
                                                    <!-- 최종수정일 -->
                                                    <td></td>
                                                    <!-- 버튼 -->
                                                    <td>
                                                    </td>
                                                    <input type="hidden" id="rowid" name="rowid" value="">
                                                    <input type="hidden" id="crmNo" name="crmNo" value="8030">
                                                </tr>
                                                <form></form>
                                                <input type="hidden" id="totalCnt" value="1">
                                            </tbody>
                                        </table>
                                    </div>
                                    <!-- paging -->
                                    <div class="list_bottom">
                                        <div class="paging" id="pager">
                                            <ul>
                                                <li class="prev"><a href="javascript:_goPage(1, 'searchCampaignList');"
                                                        role="button">이전</a> </li>
                                                <li class="active"><a role="button">1</a></li>
                                                <li><a role="button">2</a></li>
                                                <li class="next"><a href="javascript:_goPage(1, 'searchCampaignList');"
                                                        role="button">다음</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <!-- // paging -->
                                </div>
                            </article>
                        </section>
                    </div>
                </main>
            </div>
        </section>
        <script>
            function logout() {
                if (confirm("로그아웃 하시겠습니까?")) {
                    $.post("/account/logout.json", function (data) {
                        location.href = "/";
                    });
                }
            }
            var LOADING_SHOW_CNT = 0;

            function showLoadingBar(_ajaxCnt) {
                LOADING_SHOW_CNT++;
                if (LOADING_SHOW_CNT == 1) {
                    $("#loadingBar").fadeIn();
                }
            }

            function hideLoadingBar() {
                setTimeout(function () {
                    LOADING_SHOW_CNT--;
                    if (LOADING_SHOW_CNT > 0) {
                        return;
                    }
                    $("#loadingBar").fadeOut();
                }, 500);
            }

            function useLoadingBar() {
                return $("#loadingBar").is(":visible");
            }
            // ajax 실패 전역처리
            $(document).ajaxError(function (event, jqxhr, settings, thrownError) {
                //debugger;
                console.log(event);
                console.log(jqxhr);
                //console.log(jqxhr.status);
                //console.log(settings);
                //console.log(thrownError);
                if (typeof (jqxhr) == "object") {
                    switch (jqxhr.status) {
                        case 401:
                            alert("장시간 입력이 없어 로그아웃 되었습니다.");
                            location.replace("/account/login.do?move=" + location.href);
                            break;
                        default:
                            alert("오류가 발생하여 처리할 수 없습니다. 잠시후 다시 시도하세요.");
                            break;
                    }
                }
            });

            function showLoadingSpinner(_selector) {
                $(_selector).addClass("loading-dimm");
                $(_selector).append($(".loading-spinners").clone());
            }

            function hideLoadingSpinner(_selector) {
                $(_selector).find(".loading-spinners").remove();
                $(_selector).removeClass("loading-dimm");
            }

            function alertReady() {
                alert("준비중 입니다.");
            }
        </script>
        <!-- Naver Script Start-->
        <script type="text/javascript">
            if (!wcs_add) var wcs_add = {};
            wcs_add["wa"] = "s_265905c0dac8";
            if (!_nasa) var _nasa = {};
            if (window.wcs) {
                wcs.inflow();
                wcs_do(_nasa);
            }
        </script>
        <!-- Naver Script End-->
        <script>
            $(document).ready(function () {
                //datepicker 셋팅
                initDatePicker();
                searchCampaignList(1);
            });
            //캠페인 조회
            function searchCampaignList(_nPage) {
                var page_size = 10;
                //검색조건:상태
                var arrStatus = new Array();
                if ($("#status_all").is(":checked") == false) {
                    $("input:checkbox[name='status']:checked").each(function () {
                        arrStatus.push($(this).val());
                    });
                }
                //검색조건:발송수단
                var arrSendItem = new Array();
                if ($("#sendItem_all").is(":checked") == false) {
                    $("input:checkbox[name='sendItem']:checked").each(function () {
                        arrSendItem.push($(this).val());
                    });
                }
                //검색조건:발송시점
                var arrSendType = new Array();
                if ($("#sendType_all").is(":checked") == false) {
                    $("input:checkbox[name='sendType']:checked").each(function () {
                        arrSendType.push($(this).val());
                    });
                }
                $.ajax({
                    url: "/reg/campaignList.piece",
                    type: "GET",
                    data: {
                        regStatus: arrStatus.join(",") //상태
                            ,
                        tmpDtlType: arrSendItem.join(",") //발송수단
                            ,
                        regSendTimeType: arrSendType.join(",") //발송시점
                            ,
                        regUpdateDateS: $("#start_dt").val() //시작일자
                            ,
                        regUpdateDateE: $("#end_dt").val() //종료일자
                            ,
                        regName: $("#search_title").val() //제목
                            ,
                        page: _nPage,
                        page_size: page_size
                    },
                    dataType: "html",
                    beforeSend: function (x, s) {
                        showLoadingBar();
                    },
                    success: function (html) {
                        $("#tb_campaign > tbody").html(html);
                        //페이징
                        var totalCnt = $("#totalCnt").val();
                        $('#pager').html(paintPager(_nPage, page_size, totalCnt, "searchCampaignList"));
                        document.documentElement.scrollTop = 0; //스크롤 상단으로
                    },
                    error: function (error) {
                        console.log(error);
                        //alert(error.responseJSON.rsMsg);
                    },
                    complete: function () {
                        hideLoadingBar();
                    }
                });
            }
            //집행
            function fn_enforce(_rowid, _tmpDtlRowid, _nowSendYn, _exeBudgeAmount, _exeBudgetYn, _exeRowid, _crmYn,
                _deliveryYn, _profileDelYn, _tmpType, _crmNo) {
                if (_profileDelYn == "Y") {
                    var text = "연락처가";
                    if (_tmpType == "ATL" || _tmpType == "FTL") {
                        text = "채널이";
                    } else if (_tmpType == "EML") {
                        text = "이메일이";
                    }
                    alert("발신" + text + " 삭제 되었습니다.\n집행 하실 수 없습니다.")
                    return false;
                }
                if (confirm("해당 캠페인을 집행 하시겠습니까?\n(발송량이 많은 경우 오래 걸릴 수 있습니다.)") == true) {
                    var param = {
                        campRowid: _rowid,
                        tmpDtlRowid: _tmpDtlRowid,
                        nowSendYn: _nowSendYn,
                        exeBudgetAmount: _exeBudgeAmount,
                        exeBudgetYn: _exeBudgetYn,
                        executional: true,
                        exeStatus: "LIVE",
                        exeRowid: _exeRowid,
                        crmYn: _crmYn,
                        campaignNo: _crmNo,
                        campNo: _crmNo
                    };
                    $.ajax({
                        url: "/reg/requestAction.json",
                        type: "PUT",
                        data: param,
                        dataType: "json"
                            //,	async : false
                            ,
                        beforeSend: function (x, s) {
                            showLoadingBar();
                        },
                        success: function (data) {
                            if (data.rsCode.indexOf("S") === 0) {
                                // alert(data.rsMsg);
                                // 즉시일경우 집행완료 처리
                                campExeComp(_rowid);
                                if (_deliveryYn == "Y") {
                                    campSwtDelivery(_rowid);
                                }
                                // 관리 목록으로 이동 ( 임시로 등록 목록으로 이동 )
                                //window.location.href="/reg/campaign_list.do";
                            } else {
                                var msg;
                                if (data.rsData) {
                                    failedResult = data.rsData.failedResult;
                                    msg = (failedResult && failedResult.length >= 1) ? failedResult[0]
                                        .errorMsg : "";
                                }
                                msg = msg ? msg : data.rsMsg;
                                alert(msg);
                            }
                        },
                        error: function (error) {
                            console.log(error);
                            alert(error.responseJSON.rsMsg);
                        },
                        complete: function () {
                            hideLoadingBar();
                        }
                    });
                }
            }

            function campExeComp(campRowid) {
                $.ajax({
                    url: "/reg/updateCampaignStatus.json",
                    type: "PUT",
                    data: {
                        campRowid: campRowid,
                        jobType: "SAVE_EXE"
                    },
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        if (data.rsCode.indexOf("S") == 0) {
                            alert("집행성공");
                            searchCampaignList();
                        } else {
                            alert(data.rsMsg);
                        }
                    },
                    error: function (error) {
                        console.log(error);
                        alert(error.responseJSON.rsMsg);
                    }
                });
            }

            function campSwtDelivery(campRowid) {
                $.ajax({
                    url: "/api/sweetTracker/nonCrmCampDeliveryTracking.json",
                    type: "POST",
                    data: {
                        ROWID: campRowid
                    },
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        if (data.rsCode.indexOf("S") == 0) {} else {
                            alert(data.rsMsg);
                        }
                    },
                    error: function (error) {
                        console.log(error);
                        alert(error.responseJSON.rsMsg);
                    }
                });
            }
            //복사
            function fn_copy(rowid, regName, regMemo, regCrmNo) {
                /* 
                if($("input:checkbox[name='chk']:checked").length <= 0) {
                	alert("선택된 캠페인이 없습니다.");
                	
                } else {
                	if(confirm("해당 캠페인을 복사 하시겠습니까?")) {
                		
                	}
                } 
                */
                var txt = "복사";
                if (rowid == "") {
                    txt = "등록"
                }
                if (confirm("해당 캠페인을 " + txt + " 하시겠습니까?") == true) {
                    $.ajax({
                        url: "/reg/copyCampaign.json",
                        type: "POST",
                        data: {
                            rowid: rowid,
                            regName: regName,
                            regMemo: regMemo.replaceAll('↵', '\n'),
                            regCrmNo: regCrmNo
                        },
                        dataType: "json",
                        beforeSend: function (x, s) {
                            showLoadingBar();
                        },
                        success: function (data) {
                            alert(txt + "완료");
                            location.replace('/reg/reg.do?rowid=' + data.nextRowid);
                            //searchCampaignList();
                        },
                        error: function (error) {
                            console.log(error);
                            //alert(error.responseJSON.rsMsg);
                        },
                        complete: function () {
                            hideLoadingBar();
                        }
                    });
                }
            }
            //삭제
            function fn_delete() {
                if ($("input:checkbox[name='chk']:checked").length <= 0) {
                    return alert("선택된 캠페인이 없습니다.");
                } else {
                    if (confirm("해당 캠페인을 삭제 하시겠습니까?") == true) {
                        var successCnt = 0; //처리건수 체크
                        var chk = $("input[name=chk]:checked");
                        for (var i = 0; i < chk.length; i++) {
                            var rowid = chk.parents("tr").find("input[name='rowid']").eq(i).val();
                            var crmNo = chk.parents("tr").find("input[name='crmNo']").eq(i).val();
                            if (rowid != "") {
                                $.ajax({
                                    url: "/reg/deleteCampaign.json",
                                    type: "POST",
                                    data: {
                                        rowid: rowid,
                                        REG_CRM_NO: crmNo
                                    },
                                    dataType: "json",
                                    async: false
                                        //,beforeSend : function (x, s) {
                                        //	showLoadingBar();
                                        //}
                                        ,
                                    success: function (data) {
                                        successCnt++;
                                    },
                                    error: function (error) {
                                        console.log(error);
                                        //alert(error.responseJSON.rsMsg);
                                    }
                                    //,complete    : function () {
                                    //hideLoadingBar();
                                    //}
                                });
                            }
                        }
                        if (successCnt > 0) {
                            alert("삭제되었습니다");
                            searchCampaignList();
                            $("#checkAll").prop("checked", false);
                        } else {
                            alert("처리된 내역이 없습니다");
                        }
                    }
                }
            }
            //검색조건 클릭(체크박스)
            $(".temp-list__serch-select input[type='checkbox']").on("change", function () {
                var chkId = $(this).attr("id");
                var chkName = $(this).attr("name");
                //체크박스 전체 클릭
                if ($(this).val() == "ALL") {
                    $("input[name='" + chkName + "'][value!='ALL']").prop("checked", false);
                    $("input[name='" + chkName + "'][value='ALL']").prop("checked", true);
                    $(".temp-list_filter_select_item." + chkName).remove(); //선택한 필터 삭제
                } else {
                    $("input[name='" + chkName + "'][value='ALL']").prop("checked", false);
                    //검색조건 체크박스 전체 해제 시 '전체' 체크
                    if ($("input[name='" + chkName + "']:checked").length == 0) {
                        $("input[name='" + chkName + "'][value='ALL']").prop("checked", true);
                    }
                    //선택한 필터
                    if ($(this).prop("checked")) { //선택한 필터 추가
                        var html = "";
                        html += "<div class='temp-list_filter_select_item " + chkName + "'>";
                        html += "	<span style='margin-right:10px'>" + $("label[for='" + chkId + "']").text() +
                            "</span>";
                        html += "	<span class='temp-list_filter_close' id='" + chkId +
                            "' onclick='filterClose(this)'></span>";
                        html += "</div>";
                        $(".temp-list_filter_select_frame").append(html);
                    } else { //선택한 필터 삭제
                        $(".temp-list_filter_select_frame").find("#" + chkId).parent("div").remove(
                            ".temp-list_filter_select_item");
                    }
                }
                //선택한 필터 수
                var chkCnt = $(".temp-list__serch-select input[type='checkbox'][value!='ALL']:checked").length;
                $("#filter_count").text(chkCnt);
                //캠페인 조회
                searchCampaignList();
            });
            //필터 닫기
            function filterClose(_obj) {
                if (_obj != undefined) {
                    var chkId = $(_obj).attr("id");
                    var chkName = chkId.substring(0, chkId.indexOf("_"));
                    $(_obj).parent("div").remove(".temp-list_filter_select_item"); //선택한 필터 삭제
                    $(".temp-list__serch-select input[id='" + chkId + "']").prop("checked", false); //체크박스 해제
                    //검색조건 체크박스 전체 해제 시 '전체' 체크
                    if ($("input[name='" + chkName + "']:checked").length == 0) {
                        $("input[name='" + chkName + "'][value='ALL']").prop("checked", true);
                    }
                } //전체해제
                else {
                    $(".temp-list_filter_select_item").remove(); //전체 필터 삭제
                    $(".temp-list__serch-select input").prop("checked", false); //전체 체크박스 해제
                    $(".temp-list__serch-select input[value='ALL']").prop("checked", true); //검색조건  '전체' 체크
                }
                //선택한 필터 수
                var chkCnt = $(".temp-list__serch-select input[type='checkbox'][value!='ALL']:checked").length;
                $("#filter_count").text(chkCnt);
                //캠페인 조회
                searchCampaignList();
            }

            function initDatePicker() {
                $(".start_end_date").daterangepicker({
                    startDate: getMonthDay()[0],
                    endDate: getMonthDay()[1]
                }, function (start, end, label) {
                    $("#start_dt").val(start.format("YYYY-MM-DD"));
                    $("#end_dt").val(end.format("YYYY-MM-DD"));
                    searchCampaignList();
                });
                $("#start_dt").val(getMonthDay()[0]);
                $("#end_dt").val(getMonthDay()[1]);
                /* 
                var now = moment();
                var startDay = moment(now.format("YYYYMM")+"01");
                $(".start_end_date").daterangepicker({
                		autoUpdateInput: false,
                		locale : {
                			cancelLabel: 'Clear'
                		}
                	},
                	function(start, end, label){
                		$("#start_dt").val(start.format("YYYY-MM-DD"));
                		$("#end_dt").val(end.format("YYYY-MM-DD"));
                		
                		
                		$('.start_end_date').val(start.format("YYYY-MM-DD") + " ~ " + end.format("YYYY-MM-DD"));
                		
                		searchCampaignList();
                		
                	}
                	/*{
                		startDate : startDay.format("YYYY-MM-DD")
                		, endDate : now.format("YYYY-MM-DD")
                	},
                );
                */
            }
            //기간 키보드 입력
            $('.start_end_date').keyup(delay(function (e) {
                var startDt = $("#start_dt").val();
                var endDt = $("#end_dt").val();
                if ($(".start_end_date").val() == "") {
                    $("#start_dt").val("");
                    $("#end_dt").val("");
                    //캠페인 조회
                    searchCampaignList();
                }
            }, 800));
            //체크박스 전체선택,해제
            $("#checkAll").click(function () {
                if ($("#checkAll").prop("checked")) {
                    $("input[name='chk']").prop("checked", true);
                } else {
                    $("input[name='chk']").prop("checked", false);
                }
            });

            function getMonthDay() {
                var now = new Date();
                var monthDay = [];
                monthDay[1] = getDateStr(now); //오늘일자
                now.setDate(1);
                monthDay[0] = getDateStr(now); //이번달 첫번째날
                return monthDay;
            }

            function getDateStr(myDate) {
                var year = myDate.getFullYear();
                var month = (myDate.getMonth() + 1);
                var day = myDate.getDate();
                month = (month < 10) ? "0" + String(month) : month;
                day = (day < 10) ? "0" + String(day) : day;
                return year + '-' + month + '-' + day;
            }
            //검색조건 제목 입력
            $('#search_title').keyup(delay(function (e) {
                //캠페인 조회
                searchCampaignList();
            }, 600));
            //필터 전체해제
            function fn_filterClear() {
                filterClose();
            }
        </script>
    </div>
    <style>
        .tb_button {
            padding: 1px;
            cursor: pointer;
            border-right: 1px solid #8b8b8b;
            border-left: 1px solid #FFF;
            border-bottom: 1px solid #fff;
        }

        .tb_button.hover {
            borer: 2px outset #def;
            background-color: #f8f8f8 !important;
        }

        .ws_toolbar {
            z-index: 100000
        }

        .ws_toolbar .ws_tb_btn {
            cursor: pointer;
            border: 1px solid #555;
            padding: 3px
        }

        .tb_highlight {
            background-color: yellow
        }

        .tb_hide {
            visibility: hidden
        }

        .ws_toolbar img {
            padding: 2px;
            margin: 0px
        }
    </style>
</body>
<grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>

</html>

</html>